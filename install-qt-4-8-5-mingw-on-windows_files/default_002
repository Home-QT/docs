// API callback
random_posts({"version":"1.0","encoding":"UTF-8","feed":{"xmlns":"http://www.w3.org/2005/Atom","xmlns$openSearch":"http://a9.com/-/spec/opensearchrss/1.0/","xmlns$blogger":"http://schemas.google.com/blogger/2008","xmlns$georss":"http://www.georss.org/georss","xmlns$gd":"http://schemas.google.com/g/2005","xmlns$thr":"http://purl.org/syndication/thread/1.0","id":{"$t":"tag:blogger.com,1999:blog-3815112745226155191"},"updated":{"$t":"2016-11-28T05:42:33.343-08:00"},"category":[{"term":"Windows"},{"term":"USB Flash"},{"term":"Grub4Dos"},{"term":"Qt"},{"term":"Программирование"},{"term":"All-in-One ISO"},{"term":"RDP"},{"term":"Универсальный образ"},{"term":"WindowsUpdate"},{"term":"Прочее"},{"term":"Работа с разделами"},{"term":"DiskPart"},{"term":"WinCmd"},{"term":"Драйвера"},{"term":"AutoUnatted"},{"term":"Boot Booster"},{"term":"FiraDisk"},{"term":"IE11"},{"term":"MeeGo"},{"term":"MySQL"},{"term":"Перенос системы"},{"term":"Создание разделов"}],"title":{"type":"text","$t":"- = The GRomR1 Blog = -"},"subtitle":{"type":"html","$t":"My work \u0026amp; My actions \u0026amp; My opinion"},"link":[{"rel":"http://schemas.google.com/g/2005#feed","type":"application/atom+xml","href":"http:\/\/gromr1.blogspot.com\/feeds\/posts\/default"},{"rel":"self","type":"application/atom+xml","href":"http:\/\/www.blogger.com\/feeds\/3815112745226155191\/posts\/default?alt=json-in-script\u0026start-index=31\u0026max-results=1"},{"rel":"alternate","type":"text/html","href":"http:\/\/gromr1.blogspot.com\/"},{"rel":"hub","href":"http://pubsubhubbub.appspot.com/"},{"rel":"previous","type":"application/atom+xml","href":"http:\/\/www.blogger.com\/feeds\/3815112745226155191\/posts\/default?alt=json-in-script\u0026start-index=30\u0026max-results=1"},{"rel":"next","type":"application/atom+xml","href":"http:\/\/www.blogger.com\/feeds\/3815112745226155191\/posts\/default?alt=json-in-script\u0026start-index=32\u0026max-results=1"}],"author":[{"name":{"$t":"GRomR1"},"uri":{"$t":"http:\/\/www.blogger.com\/profile\/05001160230860564687"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"24","height":"32","src":"http:\/\/2.bp.blogspot.com\/-GwZcPKGsVpc\/VMuQar0WDDI\/AAAAAAAAA7s\/lXA3mHaFKuU\/s1600\/*"}}],"generator":{"version":"7.00","uri":"http://www.blogger.com","$t":"Blogger"},"openSearch$totalResults":{"$t":"43"},"openSearch$startIndex":{"$t":"31"},"openSearch$itemsPerPage":{"$t":"1"},"entry":[{"id":{"$t":"tag:blogger.com,1999:blog-3815112745226155191.post-5597214409824023316"},"published":{"$t":"2012-03-08T02:48:00.003-08:00"},"updated":{"$t":"2015-07-03T09:20:31.634-07:00"},"category":[{"scheme":"http://www.blogger.com/atom/ns#","term":"Windows"},{"scheme":"http://www.blogger.com/atom/ns#","term":"Драйвера"}],"title":{"type":"text","$t":"Удаление и интеграция драйверов с помощью скриптов TeraByte OS Deployment Tool"},"content":{"type":"html","$t":"\u003Cdiv dir=\"ltr\" style=\"text-align: left;\" trbidi=\"on\"\u003E\u003Cdiv class=\"separator\" style=\"clear: both; text-align: center;\"\u003E\u003Ca href=\"http:\/\/2.bp.blogspot.com\/-5EzqXIRA-3I\/Tz5JYl9mifI\/AAAAAAAAAI0\/l54_ZCYCeKI\/s1600\/operation.png\" imageanchor=\"1\" style=\"margin-left: 1em; margin-right: 1em;\"\u003E\u003Cimg border=\"0\" src=\"http:\/\/2.bp.blogspot.com\/-5EzqXIRA-3I\/Tz5JYl9mifI\/AAAAAAAAAI0\/l54_ZCYCeKI\/s1600\/operation.png\" \/\u003E\u003C\/a\u003E\u003C\/div\u003E\u003Cbr \/\u003EПрограммный продукт TeraByte OS Deployment Tool позволяет не только удалять, но и добавлять драйвера в уже установленную ОС семейства Windows. Процесс удаления драйверов с помощью графического интерфейса вам уже знаком по этой \u003Ca href=\"http:\/\/gromr1.blogspot.com\/2012\/02\/windows-xp-make-universal-image-windows.html\"\u003Eстатье\u003C\/a\u003E. Теперь же я попытаюсь объяснить каким образом можно автоматизировать сей процесс, используя скрипты. Так же с помощью скриптов покажу как можно добавить сборку самых распространенных AHCI\/SATA\/Raid драйверов в ОС Windows XP.\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cb\u003E\u003Cspan style=\"font-size: medium;\"\u003E\u003Cu\u003EЧто для этого потребуется?\u003C\/u\u003E\u003C\/span\u003E\u003C\/b\u003E\u003Cbr \/\u003E1. \u003Ca href=\"http:\/\/narod.ru\/disk\/41019770001\/tbosdts_pro.zip.html\"\u003ETeraByte OS Deployment Tool Suite\u003C\/a\u003E.\u003Cbr \/\u003E2. \u003Ca href=\"http:\/\/ru.wikipedia.org\/wiki\/%C2%E8%F0%F2%F3%E0%EB%FC%ED%E0%FF_%EC%E0%F8%E8%ED%E0\" target=\"_blank\"\u003EВиртуальная машина\u003C\/a\u003E\u0026nbsp; или реальный компьютер с установленной Windows XP.\u003Cbr \/\u003E3. ОС Windows для запуска \u003Ca href=\"http:\/\/narod.ru\/disk\/41019770001\/tbosdts_pro.zip.html\"\u003ETeraByte OS Deployment Tool Suite\u003C\/a\u003E.\u003Cbr \/\u003E4. \u003Ca href=\"http:\/\/narod.ru\/disk\/41088495001.17fcb27e912cea5cb297ad84baf55949\/MassStor_x86_11.8.22_drv.7z.html\"\u003EПакет распространенных AHCI драйверов.\u003C\/a\u003E \u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cb\u003E\u003Cspan style=\"font-size: medium;\"\u003E\u003Cu\u003EПодробнее о используемых программах:\u003C\/u\u003E\u003C\/span\u003E\u003C\/b\u003E\u003Cbr \/\u003E\u003Ca name='more'\u003E\u003C\/a\u003E\u003Cbr \/\u003EПро \u003Ca href=\"http:\/\/www.terabyteunlimited.com\/tbosdt.htm\"\u003ETeraByte OS Deployment Tool\u003C\/a\u003E достаточно подробно писал в предыдущей статье, также в архиве есть вся необходимая документация.\u003Cbr \/\u003EWindows XP я устанавливал в VMWare, и затем все манипуляции производил над образом .vmdk.\u003Cbr \/\u003EПакет AHCI драйверов взял с \u003Ca href=\"http:\/\/forum.oszone.net\/thread-135321-105.html\"\u003Eoszone.net\u003C\/a\u003E, который состоит из драйверов:\u003Cbr \/\u003E\u0026nbsp;AMD - 3.1.1540.127\u003Cbr \/\u003E\u0026nbsp;Intel - 8.9.8.1005\u003Cbr \/\u003E\u0026nbsp;JMicron - 1.17.62.0\u003Cbr \/\u003E\u0026nbsp;Marvell - 1.2.0.7700\u003Cbr \/\u003E\u0026nbsp;nForce - 10.3.0.46\u003Cbr \/\u003E\u0026nbsp;SiS - 5.1.1039.3020\u003Cbr \/\u003E\u0026nbsp;VIA - 5.1.7600.601\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cu\u003E\u003Cb\u003E\u003Cspan style=\"font-size: medium;\"\u003EПоследовательность действий по удалению и интеграции драйверов:\u003C\/span\u003E\u003C\/b\u003E\u003C\/u\u003E\u003Cbr \/\u003E\u003Cbr \/\u003E1. Скачиваем \u003Ca href=\"http:\/\/narod.ru\/disk\/41019770001\/tbosdts_pro.zip.html\"\u003ETeraByte OS Deployment Tool Suite\u003C\/a\u003E\u003Cbr \/\u003E2. Создаем папку на диске С (назовем ее temp). В нее положим содержимое скачанного архива, т.е. папку tbosdts_pro.\u003Cbr \/\u003E3. В нее же положим образ жесткого диска (.vmdk) созданный VMWare.\u003Cbr \/\u003E4. Скачиваем \u003Ca href=\"http:\/\/narod.ru\/disk\/41088495001.17fcb27e912cea5cb297ad84baf55949\/MassStor_x86_11.8.22_drv.7z.html\"\u003Eпакет распространенных AHCI драйверов.\u003C\/a\u003E И его тоже разархивируем в папку temp.\u003Cbr \/\u003E5. Теперь нам нужен файл answer.ini, предназначенный для автоматизации процесса удаления и добавления драйверов, с помощью OSD Tool. Его подробное содержание описано в документации. Я себе создал след. документ:\u003Cbr \/\u003E\u003Ci\u003EПримечание: проверяем путь до образа .vmdk и его имя. У меня C:\\temp\\WinXP.vmdk.\u003C\/i\u003E\u003Cbr \/\u003E\u003Cdiv style=\"font-family: \u0026quot;Courier New\u0026quot;,Courier,monospace;\"\u003E\/\/ *** This is comment ***\u003Cbr \/\u003E\/\/ tbosdt osdtool.tbs answer.ini\u003Cbr \/\u003E\u003Cbr \/\u003E\/\/ For physical drive. By installation number: WinInst=Num[n]\u0026nbsp; \u003Cbr \/\u003E\/\/ WinInst=Num[1] \u003Cbr \/\u003E\u003Cbr \/\u003E\/\/ By path to a virtual drive file followed by installation number to select (default is first). \u003Cbr \/\u003EWinInst=C:\\temp\\WinXP.vmdk\u003Cbr \/\u003E\u003Cbr \/\u003E\/\/ Will remove all installed drivers \u003Cbr \/\u003EClrDrv=2\u003Cbr \/\u003E\u003Cbr \/\u003E\/\/ Install default IDE drivers for XP, and IDE\/AHCI drivers for Vista and Win 7\u003Cbr \/\u003EInstDrv=1\u003Cbr \/\u003E\u003Cbr \/\u003E\/\/ Install %DRV.INF% in the next path\u003Cbr \/\u003E\/\/ InstDrv=%DRV.INF% -critical\u003Cbr \/\u003E\/\/ -critical\u0026nbsp; - specifies that the driver is a storage driver required for booting Windows\u003Cbr \/\u003E\/\/ -normal\u0026nbsp; - specifies that the driver is normal non-storage (non-critical) driver\u003Cbr \/\u003E\/\/ -filter\u0026nbsp; - specifies to filter on the hardware ID\u003C\/div\u003E\u003Cbr \/\u003E6. Называем его answer.ini, и сохраняем тоже в папке temp.\u003Cbr \/\u003E7. Чтобы вручную не писать путь до каждого драйвера воспользуемся bat-файлом:\u003Cbr \/\u003E\u003Cdiv style=\"font-family: \u0026quot;Courier New\u0026quot;,Courier,monospace;\"\u003E@echo off\u003Cbr \/\u003E::Ищем inf-файлы в папке .\\MassStor_x86_11.8.22_drv, и их полные пути отправляем в list_new_inf.txt\u003Cbr \/\u003Edir \/s \/b .\\MassStor_x86_11.8.22_drv | find \/i \".inf\" \u0026gt; list_new_inf.txt\u003Cbr \/\u003E\u003Cbr \/\u003E::Копируем документ answer.ini в папку tbosdts_pro\u003Cbr \/\u003Ecopy \/y answer.ini .\\tbosdts_pro\\answer.ini\u003Cbr \/\u003E\u003Cbr \/\u003E::Переходим в папку tbosdts_pro\u003Cbr \/\u003Ecd .\\tbosdts_pro\u003Cbr \/\u003E\u003Cbr \/\u003E::Добавляем содержимое list_new_inf.txt с \"-critical\" в документ answer.ini\u003Cbr \/\u003Efor \/f %%1 in ('type ..\\list_new_inf.txt') do echo InstDrv=%%1 -critical \u0026gt;\u0026gt; answer.ini\u003Cbr \/\u003E\u003Cbr \/\u003E::Запускаем tbosdtw.exe \u003Cbr \/\u003Etbosdtw.exe osdtool.tbs answer.ini\u003Cbr \/\u003E\u003Cbr \/\u003E::Переходим в предыдущий каталог (c:\\temp)\u003Cbr \/\u003Ecd ..\\\u003Cbr \/\u003E\u003Cbr \/\u003E::Удаляем документ list_new_inf.txt\u003Cbr \/\u003Edel \/q .\\list_new_inf.txt\u003C\/div\u003E8. Называем его start.bat, и сохраняем тоже в папке temp.\u003Cbr \/\u003E9. Проверяем, что получилось. Папка temp теперь содержит след.документы:\u003Cbr \/\u003E\u003Cdiv class=\"separator\" style=\"clear: both; text-align: center;\"\u003E\u003Ca href=\"http:\/\/1.bp.blogspot.com\/-a5VOCtRHZMk\/T1iNPwhZSqI\/AAAAAAAAAMQ\/SqoN64Rbs0M\/s1600\/dir_temp.bmp\" imageanchor=\"1\" style=\"margin-left: 1em; margin-right: 1em;\"\u003E\u003Cimg border=\"0\" src=\"http:\/\/1.bp.blogspot.com\/-a5VOCtRHZMk\/T1iNPwhZSqI\/AAAAAAAAAMQ\/SqoN64Rbs0M\/s1600\/dir_temp.bmp\" \/\u003E\u003C\/a\u003E\u003C\/div\u003E\u003Cbr \/\u003E10. Запускаем командую строку и наш скрипт start.bat.\u003Cbr \/\u003E11. После его успешного выполнения, переносим систему из образа WinXP.vmdk на новое железо.\u003Cbr \/\u003E\u003Cbr \/\u003E\u003Cb\u003EПри копировании статьи просьба указывать \u003Ca href=\"http:\/\/gromr1.blogspot.com\/\"\u003Eисточник\u003C\/a\u003E и автора.\u003Cbr \/\u003E\u003Ci\u003EС уважением, GRomR1.\u003C\/i\u003E\u003C\/b\u003E\u003C\/div\u003E"},"link":[{"rel":"replies","type":"application/atom+xml","href":"http:\/\/gromr1.blogspot.com\/feeds\/5597214409824023316\/comments\/default","title":"Комментарии к сообщению"},{"rel":"replies","type":"text/html","href":"http:\/\/gromr1.blogspot.com\/2012\/03\/terabyte-os-deployment-tool.html#comment-form","title":"Комментарии: 13"},{"rel":"edit","type":"application/atom+xml","href":"http:\/\/www.blogger.com\/feeds\/3815112745226155191\/posts\/default\/5597214409824023316"},{"rel":"self","type":"application/atom+xml","href":"http:\/\/www.blogger.com\/feeds\/3815112745226155191\/posts\/default\/5597214409824023316"},{"rel":"alternate","type":"text/html","href":"http:\/\/gromr1.blogspot.com\/2012\/03\/terabyte-os-deployment-tool.html","title":"Удаление и интеграция драйверов с помощью скриптов TeraByte OS Deployment Tool"}],"author":[{"name":{"$t":"GRomR1"},"uri":{"$t":"http:\/\/www.blogger.com\/profile\/05001160230860564687"},"email":{"$t":"noreply@blogger.com"},"gd$image":{"rel":"http://schemas.google.com/g/2005#thumbnail","width":"24","height":"32","src":"http:\/\/2.bp.blogspot.com\/-GwZcPKGsVpc\/VMuQar0WDDI\/AAAAAAAAA7s\/lXA3mHaFKuU\/s1600\/*"}}],"media$thumbnail":{"xmlns$media":"http://search.yahoo.com/mrss/","url":"http:\/\/2.bp.blogspot.com\/-5EzqXIRA-3I\/Tz5JYl9mifI\/AAAAAAAAAI0\/l54_ZCYCeKI\/s72-c\/operation.png","height":"72","width":"72"},"thr$total":{"$t":"13"}}]}});